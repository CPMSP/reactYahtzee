{"version":3,"sources":["Die.js","Dice.js","RuleRow.js","Rules.js","ScoreTable.js","Game.js","App.js","registerServiceWorker.js","index.js"],"names":["Die","props","handleClick","bind","this","idx","numberWords","locked","val","disabled","rolling","classes","className","onClick","Component","defaultProps","Dice","dice","map","d","key","RuleRow","score","name","doScore","description","undefined","Rule","params","Object","assign","reduce","prev","curr","freqs","Map","set","get","Array","from","values","filter","length","TotalOneNumber","evalRoll","count","SumDistro","freq","some","c","sum","FullHouse","includes","SmallStraight","Set","has","LargeStraight","size","Yahtzee","ones","twos","threes","fours","fives","sixes","threeOfKind","fourOfKind","fullHouse","smallStraight","largeStraight","yahtzee","chance","ScoreTable","scores","totalScore","cellSpacing","evt","getTotalScore","Game","state","fill","rollsLeft","roll","toggleLocked","animateRoll","setState","st","i","Math","ceil","random","setTimeout","slice","rulename","ruleFn","every","x","displayRollInfo","App","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","catch","error","ReactDOM","render","document","getElementById","URL","process","origin","addEventListener","fetch","response","status","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.4d679c8f.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Die.css\";\n\nclass Die extends Component {\n\tstatic defaultProps = {\n\t\tnumberWords: [\"one\", \"two\", \"three\", \"four\", \"five\", \"six\"]\n\t};\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick() {\n\t\tthis.props.handleClick(this.props.idx);\n\t}\n\trender() {\n\t\tconst { numberWords, locked, val, disabled, rolling } = this.props;\n\t\tlet classes = `Die fas fa-dice-${numberWords[val - 1]} fa-5x `;\n\t\tif (locked) classes += \"Die-locked\";\n\t\tif (rolling) classes += \"Die-rolling\";\n\t\treturn (\n\t\t\t<i\n\t\t\t\tclassName={classes}\n\t\t\t\tonClick={this.handleClick}\n\t\t\t\tdisabled={disabled}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default Die;\n","import React, { Component } from \"react\";\nimport Die from \"./Die\";\nimport \"./Dice.css\";\n\nclass Dice extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"Dice\">\n\t\t\t\t{this.props.dice.map((d, idx) => (\n\t\t\t\t\t<Die\n\t\t\t\t\t\thandleClick={this.props.handleClick}\n\t\t\t\t\t\tval={d}\n\t\t\t\t\t\tlocked={this.props.locked[idx]}\n\t\t\t\t\t\tidx={idx}\n\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\tdisabled={this.props.disabled}\n\t\t\t\t\t\trolling={this.props.rolling && !this.props.locked[idx]}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Dice;\n","import React, { Component } from \"react\";\nimport \"./RuleRow.css\";\n\nclass RuleRow extends Component {\n\trender() {\n\t\tconst { score, name, doScore, description } = this.props;\n\t\tconst disabled = score !== undefined;\n\t\treturn (\n\t\t\t<tr\n\t\t\t\tclassName={`RuleRow RuleRow-${\n\t\t\t\t\tdisabled ? \"disabled\" : \"active\"\n\t\t\t\t}`}\n\t\t\t\tonClick={disabled ? null : doScore}>\n\t\t\t\t<td className=\"RuleRow-name\">{name}</td>\n\t\t\t\t<td className=\"RuleRow-score\">\n\t\t\t\t\t{disabled ? score : description}\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t);\n\t}\n}\n\nexport default RuleRow;\n","/** Rule for Yahtzee scoring.\n *\n * This is an \"abstract class\"; the real rules are subclasses of these.\n * This stores all parameters passed into it as properties on the instance\n * (to simplify child classes so they don't need constructors of their own).\n *\n * It contains useful functions for summing, counting values, and counting\n * frequencies of dice. These are used by subclassed rules.\n */\n\nclass Rule {\n\tconstructor(params) {\n\t\t// put all properties in params on instance\n\t\tObject.assign(this, params);\n\t}\n\n\tsum(dice) {\n\t\t// sum of all dice\n\t\treturn dice.reduce((prev, curr) => prev + curr);\n\t}\n\n\tfreq(dice) {\n\t\t// frequencies of dice values\n\t\tconst freqs = new Map();\n\t\tfor (let d of dice) freqs.set(d, (freqs.get(d) || 0) + 1);\n\t\treturn Array.from(freqs.values());\n\t}\n\n\tcount(dice, val) {\n\t\t// # times val appears in dice\n\t\treturn dice.filter(d => d === val).length;\n\t}\n}\n\n/** Given a sought-for val, return sum of dice of that val.\n *\n * Used for rules like \"sum of all ones\"\n */\n\nclass TotalOneNumber extends Rule {\n\tevalRoll = dice => {\n\t\treturn this.val * this.count(dice, this.val);\n\t};\n}\n\n/** Given a required # of same dice, return sum of all dice.\n *\n * Used for rules like \"sum of all dice when there is a 3-of-kind\"\n */\n\nclass SumDistro extends Rule {\n\tevalRoll = dice => {\n\t\t// do any of the counts meet of exceed this distro?\n\t\treturn this.freq(dice).some(c => c >= this.count) ? this.sum(dice) : 0;\n\t};\n}\n\n/** Check if full house (3-of-kind and 2-of-kind) */\n\nclass FullHouse extends Rule {\n\t// TODO\n\tevalRoll = dice => {\n\t\tconst freqs = this.freq(dice);\n\t\treturn freqs.includes(2) && freqs.includes(3) ? this.score : 0;\n\t};\n}\n\n/** Check for small straights. */\n\nclass SmallStraight extends Rule {\n\t// TODO\n\tevalRoll = dice => {\n\t\tconst d = new Set(dice);\n\t\tif (d.has(2) && d.has(3) && d.has(4) && (d.has(1) || d.has(5)))\n\t\t\treturn this.score;\n\t\tif (d.has(3) && d.has(4) && d.has(5) && (d.has(2) || d.has(6)))\n\t\t\treturn this.score;\n\t\treturn 0;\n\t};\n}\n\n/** Check for large straights. */\n\nclass LargeStraight extends Rule {\n\tevalRoll = dice => {\n\t\tconst d = new Set(dice);\n\n\t\t// large straight must be 5 different dice & only one can be a 1 or a 6\n\t\treturn d.size === 5 && (!d.has(1) || !d.has(6)) ? this.score : 0;\n\t};\n}\n\n/** Check if all dice are same. */\n\nclass Yahtzee extends Rule {\n\tevalRoll = dice => {\n\t\t// all dice must be the same\n\t\treturn this.freq(dice)[0] === 5 ? this.score : 0;\n\t};\n}\n\n// ones, twos, etc score as sum of that value\nconst ones = new TotalOneNumber({ val: 1, description: \"1 point per 1\" });\nconst twos = new TotalOneNumber({ val: 2, description: \"2 points per 2\" });\nconst threes = new TotalOneNumber({ val: 3, description: \"3 points per 3\" });\nconst fours = new TotalOneNumber({ val: 4, description: \"4 points per 4\" });\nconst fives = new TotalOneNumber({ val: 5, description: \"5 points per 5\" });\nconst sixes = new TotalOneNumber({ val: 6, description: \"6 points per 6\" });\n\n// three/four of kind score as sum of all dice\nconst threeOfKind = new SumDistro({\n\tcount: 3,\n\tdescription: \"Sum all dice if 3 are the same\"\n});\nconst fourOfKind = new SumDistro({\n\tcount: 4,\n\tdescription: \"Sum all dice if 4 are the same\"\n});\n\n// full house scores as flat 25\nconst fullHouse = new FullHouse({\n\tscore: 25,\n\tdescription: \"25 points for a full house\"\n});\n\n// small/large straights score as 30/40\nconst smallStraight = new SmallStraight({\n\tscore: 30,\n\tdescription: \"30 points for a small straight\"\n});\nconst largeStraight = new LargeStraight({\n\tscore: 40,\n\tdescription: \"40 points for a large straight\"\n});\n\n// yahtzee scores as 50\nconst yahtzee = new Yahtzee({\n\tscore: 50,\n\tdescription: \"50 points for a Yahtzee\"\n});\n\n// for chance, can view as sum of all dice, requiring at least 0 of a kind\nconst chance = new SumDistro({ count: 0, description: \"Sum of all dice\" });\n\nexport {\n\tones,\n\ttwos,\n\tthrees,\n\tfours,\n\tfives,\n\tsixes,\n\tthreeOfKind,\n\tfourOfKind,\n\tfullHouse,\n\tsmallStraight,\n\tlargeStraight,\n\tyahtzee,\n\tchance\n};\n","import React, { Component } from \"react\";\nimport RuleRow from \"./RuleRow\";\nimport \"./ScoreTable.css\";\nimport {\n\tones,\n\ttwos,\n\tthrees,\n\tfours,\n\tfives,\n\tsixes,\n\tthreeOfKind,\n\tfourOfKind,\n\tfullHouse,\n\tsmallStraight,\n\tlargeStraight,\n\tyahtzee,\n\tchance\n} from \"./Rules\";\n\nclass ScoreTable extends Component {\n\tgetTotalScore() {\n\t\tconst { scores } = this.props;\n\t\tlet totalScore = 0;\n\t\tfor (let key in scores) {\n\t\t\tif (scores[key]) totalScore += scores[key];\n\t\t}\n\t\treturn totalScore;\n\t}\n\trender() {\n\t\tconst { scores, doScore } = this.props;\n\n\t\treturn (\n\t\t\t<div className=\"ScoreTable\">\n\t\t\t\t<section className=\"ScoreTable-section\">\n\t\t\t\t\t<h2>Upper</h2>\n\t\t\t\t\t<table cellSpacing=\"0\">\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Ones\"\n\t\t\t\t\t\t\t\tscore={scores.ones}\n\t\t\t\t\t\t\t\tdescription={ones.description}\n\t\t\t\t\t\t\t\tdoScore={evt => doScore(\"ones\", ones.evalRoll)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Twos\"\n\t\t\t\t\t\t\t\tscore={scores.twos}\n\t\t\t\t\t\t\t\tdescription={twos.description}\n\t\t\t\t\t\t\t\tdoScore={evt => doScore(\"twos\", twos.evalRoll)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Threes\"\n\t\t\t\t\t\t\t\tscore={scores.threes}\n\t\t\t\t\t\t\t\tdescription={threes.description}\n\t\t\t\t\t\t\t\tdoScore={evt =>\n\t\t\t\t\t\t\t\t\tdoScore(\"threes\", threes.evalRoll)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Fours\"\n\t\t\t\t\t\t\t\tscore={scores.fours}\n\t\t\t\t\t\t\t\tdescription={fours.description}\n\t\t\t\t\t\t\t\tdoScore={evt =>\n\t\t\t\t\t\t\t\t\tdoScore(\"fours\", fours.evalRoll)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Fives\"\n\t\t\t\t\t\t\t\tscore={scores.fives}\n\t\t\t\t\t\t\t\tdescription={fives.description}\n\t\t\t\t\t\t\t\tdoScore={evt =>\n\t\t\t\t\t\t\t\t\tdoScore(\"fives\", fives.evalRoll)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Sixes\"\n\t\t\t\t\t\t\t\tscore={scores.sixes}\n\t\t\t\t\t\t\t\tdescription={sixes.description}\n\t\t\t\t\t\t\t\tdoScore={evt =>\n\t\t\t\t\t\t\t\t\tdoScore(\"sixes\", sixes.evalRoll)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</section>\n\t\t\t\t<section className=\"ScoreTable-section ScoreTable-section-lower\">\n\t\t\t\t\t<h2>Lower</h2>\n\t\t\t\t\t<table cellSpacing=\"0\">\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Three of Kind\"\n\t\t\t\t\t\t\t\tscore={scores.threeOfKind}\n\t\t\t\t\t\t\t\tdescription={threeOfKind.description}\n\t\t\t\t\t\t\t\tdoScore={evt =>\n\t\t\t\t\t\t\t\t\tdoScore(\"threeOfKind\", threeOfKind.evalRoll)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Four of Kind\"\n\t\t\t\t\t\t\t\tscore={scores.fourOfKind}\n\t\t\t\t\t\t\t\tdescription={fourOfKind.description}\n\t\t\t\t\t\t\t\tdoScore={evt =>\n\t\t\t\t\t\t\t\t\tdoScore(\"fourOfKind\", fourOfKind.evalRoll)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Full House\"\n\t\t\t\t\t\t\t\tscore={scores.fullHouse}\n\t\t\t\t\t\t\t\tdescription={fullHouse.description}\n\t\t\t\t\t\t\t\tdoScore={evt =>\n\t\t\t\t\t\t\t\t\tdoScore(\"fullHouse\", fullHouse.evalRoll)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Small Straight\"\n\t\t\t\t\t\t\t\tscore={scores.smallStraight}\n\t\t\t\t\t\t\t\tdescription={smallStraight.description}\n\t\t\t\t\t\t\t\tdoScore={evt =>\n\t\t\t\t\t\t\t\t\tdoScore(\n\t\t\t\t\t\t\t\t\t\t\"smallStraight\",\n\t\t\t\t\t\t\t\t\t\tsmallStraight.evalRoll\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Large Straight\"\n\t\t\t\t\t\t\t\tscore={scores.largeStraight}\n\t\t\t\t\t\t\t\tdescription={largeStraight.description}\n\t\t\t\t\t\t\t\tdoScore={evt =>\n\t\t\t\t\t\t\t\t\tdoScore(\n\t\t\t\t\t\t\t\t\t\t\"largeStraight\",\n\t\t\t\t\t\t\t\t\t\tlargeStraight.evalRoll\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Yahtzee\"\n\t\t\t\t\t\t\t\tscore={scores.yahtzee}\n\t\t\t\t\t\t\t\tdescription={yahtzee.description}\n\t\t\t\t\t\t\t\tdoScore={evt =>\n\t\t\t\t\t\t\t\t\tdoScore(\"yahtzee\", yahtzee.evalRoll)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Chance\"\n\t\t\t\t\t\t\t\tscore={scores.chance}\n\t\t\t\t\t\t\t\tdescription={chance.description}\n\t\t\t\t\t\t\t\tdoScore={evt =>\n\t\t\t\t\t\t\t\t\tdoScore(\"chance\", chance.evalRoll)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</section>\n\t\t\t\t<h2>Total Score: {this.getTotalScore()}</h2>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ScoreTable;\n","import React, { Component } from \"react\";\nimport Dice from \"./Dice\";\nimport ScoreTable from \"./ScoreTable\";\nimport \"./Game.css\";\n\nconst NUM_DICE = 5;\nconst NUM_ROLLS = 3;\n\nclass Game extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdice: Array.from({ length: NUM_DICE }).map(d => 6),\n\t\t\tlocked: Array(NUM_DICE).fill(false),\n\t\t\trollsLeft: NUM_ROLLS,\n\t\t\trolling: false,\n\t\t\tscores: {\n\t\t\t\tones: undefined,\n\t\t\t\ttwos: undefined,\n\t\t\t\tthrees: undefined,\n\t\t\t\tfours: undefined,\n\t\t\t\tfives: undefined,\n\t\t\t\tsixes: undefined,\n\t\t\t\tthreeOfKind: undefined,\n\t\t\t\tfourOfKind: undefined,\n\t\t\t\tfullHouse: undefined,\n\t\t\t\tsmallStraight: undefined,\n\t\t\t\tlargeStraight: undefined,\n\t\t\t\tyahtzee: undefined,\n\t\t\t\tchance: undefined\n\t\t\t}\n\t\t};\n\t\tthis.roll = this.roll.bind(this);\n\t\tthis.doScore = this.doScore.bind(this);\n\t\tthis.toggleLocked = this.toggleLocked.bind(this);\n\t\tthis.animateRoll = this.animateRoll.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.animateRoll();\n\t}\n\n\troll(evt) {\n\t\t// roll dice whose indexes are in reroll\n\t\tthis.setState(st => ({\n\t\t\tdice: st.dice.map((d, i) =>\n\t\t\t\tst.locked[i] ? d : Math.ceil(Math.random() * 6)\n\t\t\t),\n\t\t\tlocked: st.rollsLeft > 1 ? st.locked : Array(NUM_DICE).fill(true),\n\t\t\trollsLeft: st.rollsLeft - 1,\n\t\t\trolling: false\n\t\t}));\n\t}\n\n\tanimateRoll() {\n\t\tthis.setState({ rolling: true }, () => {\n\t\t\tsetTimeout(this.roll, 1000);\n\t\t});\n\t}\n\n\ttoggleLocked(idx) {\n\t\t// toggle whether idx is in locked or not\n\t\tif (this.state.rollsLeft > 0 && !this.state.rolling) {\n\t\t\tthis.setState(st => ({\n\t\t\t\tlocked: [\n\t\t\t\t\t...st.locked.slice(0, idx),\n\t\t\t\t\t!st.locked[idx],\n\t\t\t\t\t...st.locked.slice(idx + 1)\n\t\t\t\t]\n\t\t\t}));\n\t\t}\n\t}\n\n\tdoScore(rulename, ruleFn) {\n\t\t// evaluate this ruleFn with the dice and score this rulename\n\t\tthis.setState(st => ({\n\t\t\tscores: { ...st.scores, [rulename]: ruleFn(this.state.dice) },\n\t\t\trollsLeft: NUM_ROLLS,\n\t\t\tlocked: Array(NUM_DICE).fill(false)\n\t\t}));\n\t\tthis.animateRoll();\n\t}\n\n\tdisplayRollInfo() {\n\t\tconst messages = [\n\t\t\t\"Assign Score\",\n\t\t\t\"Last Roll\",\n\t\t\t\"2 Rolls Left\",\n\t\t\t\"Starting Turn\"\n\t\t];\n\t\treturn messages[this.state.rollsLeft];\n\t}\n\n\trender() {\n\t\tconst { dice, locked, rollsLeft, rolling, scores } = this.state;\n\t\treturn (\n\t\t\t<div className=\"Game\">\n\t\t\t\t<header className=\"Game-header\">\n\t\t\t\t\t<h1 className=\"App-title\">Yahtzee!</h1>\n\n\t\t\t\t\t<section className=\"Game-dice-section\">\n\t\t\t\t\t\t<Dice\n\t\t\t\t\t\t\tdice={dice}\n\t\t\t\t\t\t\tlocked={locked}\n\t\t\t\t\t\t\thandleClick={this.toggleLocked}\n\t\t\t\t\t\t\tdisabled={rollsLeft === 0}\n\t\t\t\t\t\t\trolling={rolling}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"Game-button-wrapper\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"Game-reroll\"\n\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\tlocked.every(x => x) ||\n\t\t\t\t\t\t\t\t\trollsLeft === 0 ||\n\t\t\t\t\t\t\t\t\trolling\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonClick={this.animateRoll}>\n\t\t\t\t\t\t\t\t{this.displayRollInfo()}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t</header>\n\t\t\t\t<ScoreTable doScore={this.doScore} scores={scores} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Game;\n","import React, { Component } from \"react\";\nimport Game from \"./Game\";\nimport \"./App.css\";\n\nclass App extends Component {\n  render() {\n    return (\n      <div className='App'>\n        <Game />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"@fortawesome/fontawesome-free/css/all.css\";\nimport registerServiceWorker from \"./registerServiceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nregisterServiceWorker();\n"],"sourceRoot":""}